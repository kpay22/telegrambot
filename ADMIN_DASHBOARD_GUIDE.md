# 全局后台管理系统使用指南

## 系统概述

这是一个**全局后台管理系统**，可以管理所有群组，设置群组参数，查看统计数据，无需通过PHP文件修改配置。

## 主要功能

### 1. 全局概览
- 📊 **总群组数**: 系统中所有群组的数量
- 🔥 **活跃群组**: 有交易记录的群组数量
- 💰 **今日入账**: 所有群组今日入账总额
- 💸 **今日下发**: 所有群组今日下发总额
- 📈 **本月统计**: 本月所有群组的交易数据

### 2. 群组管理
- 👥 **群组列表**: 以卡片形式展示所有群组
- 📋 **群组信息**: 显示群组ID、创建时间、交易统计等
- ⚙️ **群组设置**: 直接在后台修改费率、汇率、激活状态
- 🔗 **快速访问**: 直接跳转到群组管理页面和账单详情
- 🗑️ **群组删除**: 删除不需要的群组

### 3. 系统设置
- ℹ️ **系统信息**: PHP版本、数据库状态等
- 📊 **全局统计**: 系统整体运行状况

## 访问方式

### 1. 后台管理系统
```
https://你的域名/admin_dashboard.php
```

### 2. 登录信息
- **默认密码**: `admin123`
- **建议**: 生产环境请修改默认密码

## 使用步骤

### 1. 首次访问
1. 打开 `admin_dashboard.php`
2. 输入默认密码 `admin123`
3. 点击"登录"按钮

### 2. 查看全局概览
- 登录后默认显示全局概览页面
- 查看所有群组的统计信息
- 了解系统整体运行状况

### 3. 管理群组
1. 点击侧边栏"群组管理"
2. 查看所有群组卡片
3. 点击"编辑"按钮修改群组设置
4. 点击"群组管理"跳转到具体群组管理页面
5. 点击"账单详情"查看详细交易记录

### 4. 编辑群组设置
1. 在群组卡片中点击"编辑"按钮
2. 在弹出的模态框中修改：
   - 群组名称
   - 费率 (%)
   - 汇率
   - 启用记账状态
3. 点击"保存"按钮

### 5. 删除群组
1. 在群组卡片中点击"删除"按钮
2. 确认删除操作
3. 群组及其所有数据将被永久删除

## 技术特性

### 1. 响应式设计
- 支持桌面和移动设备
- 自适应布局
- 现代化UI设计

### 2. AJAX功能
- 实时获取群组设置
- 无需刷新页面更新数据
- 流畅的用户体验

### 3. 安全机制
- 基于会话的身份验证
- API密钥保护
- 输入验证和过滤

### 4. 数据管理
- 实时数据库查询
- 自动统计计算
- 错误处理和日志记录

## API接口

### 1. 群组设置API
```
GET /api/group_settings.php?api_key=admin_api_key_2024&group_id=群组ID
POST /api/group_settings.php?api_key=admin_api_key_2024&group_id=群组ID
```

### 2. 群组统计API
```
GET /api/group_stats.php?api_key=admin_api_key_2024&group_id=群组ID&date=日期
```

## 文件结构

```
├── admin_dashboard.php          # 主后台管理系统
├── api/
│   ├── group_settings.php      # 群组设置API
│   └── group_stats.php         # 群组统计API
├── admin.php                   # 单群组管理页面
├── bill_detail.php             # 账单详情页面
└── classes/                    # 核心类文件
```

## 安全建议

1. **修改默认密码**: 生产环境请修改 `admin123` 默认密码
2. **API密钥**: 修改 `admin_api_key_2024` 为更复杂的密钥
3. **HTTPS**: 生产环境建议使用HTTPS
4. **权限控制**: 可以添加更细粒度的权限控制
5. **日志记录**: 建议添加操作日志记录

## 故障排除

### 1. 无法登录
- 检查密码是否正确
- 检查PHP会话是否正常
- 查看浏览器控制台错误

### 2. 群组设置无法保存
- 检查数据库连接
- 检查API密钥是否正确
- 查看网络请求状态

### 3. 数据不显示
- 检查数据库是否有数据
- 检查SQL查询是否正确
- 查看PHP错误日志

## 扩展功能

可以根据需要添加以下功能：
- 用户权限管理
- 操作日志记录
- 数据导出功能
- 实时通知系统
- 更多统计图表
- 批量操作功能
